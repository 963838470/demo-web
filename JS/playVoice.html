<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <h4 onclick="change()">播报语音</h4> <input id="txt" type="text" value="你好，欢迎登陆系统" /> <br />
    <button type="button" onclick="voice1()">百度(原)</button>
    <button type="button" onclick="voice2()">百度(洪亮女声)</button>
    <button type="button" onclick="voice3()">百度(男声)</button>

    <script>
      // text 文字
      // ctp 客户端类型选择，web端填写固定值1
      // pdt 311：洪亮女声 1:男声
      // cuid 用户唯一标识，用来区分用户，计算UV值。建议填写能区分用户的机器 MAC 地址或 IMEI 码，长度为60字符以内
      // per 发音人选择, 0为普通女声，1为普通男生，3为情感合成-度逍遥，4为情感合成-度丫丫，默认为普通女声
      // http://yuyin.baidu.com/docs/tts/136
      function voice1() {
        var txt = document.getElementById("txt").value
        if (txt != null && txt.length > 0) {
          var url = "http://tts.baidu.com/text2audio?lan=zh&ie=UTF-8&text=" + encodeURI(txt)
          var n = new Audio(url)
          n.src = url
          n.play()
        }
      }

      function voice2() {
        var txt = document.getElementById("txt").value
        if (txt != null && txt.length > 0) {
          var url = "http://tts.baidu.com/text2audio?cuid=baiduid&lan=zh&ctp=1&pdt=311&tex=" + encodeURI(txt)
          var n = new Audio(url)
          n.src = url
          n.play()
        }
      }

      function voice3() {
        var txt = document.getElementById("txt").value
        if (txt != null && txt.length > 0) {
          var url =
            "http://tts.baidu.com/text2audio?idx=1&tex=" +
            encodeURI(txt) +
            "&cuid=baidu_speech_demo&cod=2&lan=zh&ctp=1&pdt=1&spd=5&vol=5&pit=5&per=3"
          var n = new Audio(url)
          n.src = url
          n.play()
        }
      }

      function change() {
        document.getElementById("txt").value = "您有一张未完成派工单!"
      }
    </script>
  </body>
</html>
